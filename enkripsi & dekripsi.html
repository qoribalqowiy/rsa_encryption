<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSA Encryption and Decryption</title>
    <script src="https://cdn.rawgit.com/travist/jsencrypt/master/bin/jsencrypt.min.js"></script>
</head>
<body>
    <h2>RSA Encryption and Decryption</h2>
    
    <!-- Input untuk Enkripsi -->
    <textarea id="plaintext" rows="4" cols="50" placeholder="Masukkan teks untuk dienkripsi"></textarea>
    <br><br>
    <button onclick="encrypt()">Enkripsi</button>
    <br><br>
    
    <!-- Output Enkripsi -->
    <textarea id="encrypted" rows="4" cols="50" readonly placeholder="Hasil Enkripsi akan tampil di sini"></textarea>
    <br><br>

    <!-- Tombol untuk Dekripsi -->
    <button onclick="decrypt()">Dekripsi</button>
    <br><br>

    <!-- Output Dekripsi -->
    <textarea id="decrypted" rows="4" cols="50" readonly placeholder="Hasil Dekripsi akan tampil di sini"></textarea>

    <script>
        // Inisialisasi JSEncrypt
        const crypt = new JSEncrypt({default_key_size: 1024});

        // Generate public dan private key
        const publicKey = crypt.getPublicKey();
        const privateKey = crypt.getPrivateKey();

        console.log("Public Key: ", publicKey);
        console.log("Private Key: ", privateKey);

        // Fungsi untuk enkripsi teks
        function encrypt() {
            const plaintext = document.getElementById("plaintext").value;
            crypt.setPublicKey(publicKey); // Set public key
            const encrypted = crypt.encrypt(plaintext); // Enkripsi teks
            document.getElementById("encrypted").value = encrypted; // Tampilkan hasil enkripsi
        }

        // Fungsi untuk dekripsi teks
        function decrypt() {
            const encrypted = document.getElementById("encrypted").value;
            crypt.setPrivateKey(privateKey); // Set private key
            const decrypted = crypt.decrypt(encrypted); // Dekripsi teks
            document.getElementById("decrypted").value = decrypted; // Tampilkan hasil dekripsi
        }
    </script>
</body>
</html>
